<!DOCTYPE html>
<html lang="en">
<head>
    <title>Key Mappings</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta charset="UTF-8">
    <link href="main.css" rel="stylesheet">
</head>
<body>
    <nav id="navbar">
        <div id="menuIcon">
            <div id="hamburger"></div>
        </div>
        <div id="platforms">
            <div id="platformIcons">
                    <a id="linux" href="#"></a>
                    <a id="tmk" href="#"></a>
                    <a id="mac" href="#"></a>
                    <a id="win" href="#"></a>
            </div>
        </div>
        <div id="menuContainer">
            <div id="menu">
                <div id="menuHeader">
                    <img id="menuLogo" src="content/images/logo-menu.png" alt="Menu Logo">
                </div>
                <ul>
                    <li class="submenu"><a href="keymappings.html">MAPPINGS</a>
                        <ul>
                            <li><a href="colemaked.html">Colemak[eD]</a></li>
                            <li><a href="extendlayers.html">Extend Layers</a></li>
                            <li><a href="deadkeys.html">Dead Keys</a></li>
                        </ul>
                    </li>
                    <li><a href="ergomods.html">ERGONOMY</a></li>
                    <li><a href="otherlayouts.html">VARIANTS</a></li>
                    <li><a href="typingtricks.html">TRICKERY</a></li>
                    <li><a href="guestlinks.html">LINKS</a></li>
                </ul>
            </div>
        </div>
        <a id="navLogo" href="index.html"><img src="content/images/logo-nav.png" alt="Logo"></a>
    </nav>

    <main>
        <h1>Character/Key Mapping Layers</h1>

        <h2>COLEMAK[eD] - EDITION DREYMAR</h2>
        <p>See <a href="colemaked.html">the Colemak[eD] page</a> if you're interested.</p>

        <p>This is my own preferred AltGr mapping layers (modifier lv3-4 in Linux terminology) for the Colemak layout. I've tried to add much functionality while keeping it intuitive. In particular, I want to be able to write different scripts and tech/maths symbols. Since the start, there's been some minor tweaks based on my experience and forum feedback, but it's been stable for a long time now.</p>

        <p>See my various layout files for comments and explanations, in addition to these design goals:</p>
        <ul class="dashed">
            <li>Keeping level 1-2 of Colemak intact! This is what I think of as the Colemak layout per se.</li>
            <li>Dead keys easily accessible as unshifted AltGr+symbol keys; common ones in good positions.</li>
            <li>Added letters/quotes allowing many of the major latin scripts to be written correctly.</li>
            <li>Added symbols/glyphs similar to, e.g., Mac ones - allowing common math/tech/etc typing.</li>
            <li>The positions of added letters and symbols should as far as possible be easy to remember!</li>
        </ul>

        <img src="content/images/Cmk-ANSI-eD_96d-FShui.png" alt="Colemak ANSI eD">
        <p class="italic">The <strong>Colemak [edition DreymaR]</strong> layout, using different lv3-4 mappings from Shai's default Colemak. <br>
        Shown on an ANSI keyboard with dead key emphasis (golden) and "FingerShui" color-coded proposed fingering.</p>


        <img src="content/images/Cmk-ISO-eD-CurlAWide_96d-FShui.png" alt="Colemak ISO eD">
        <p class="italic"><strong>Colemak-CAW[eD]</strong>, using the Curl(DH)Angle-ISO and Wide(/) ergonomic mods like I do (see the next post).</p>
        
        <div class="platform-specific">
            <p class="italic"><b>HowTo:</b></p>
            <ul class="disc">
                <li>You can select the various layouts for different locales (see below) that all have my Colemak[eD] mappings, in the standard layout chooser</li>
                <li>I often type 'colemak' or the language name into the search field to narrow down the search</li>
                <li>Alternatively, you may use a 'setxkbmap' terminal command such as 'setxkbmap -layout "us(cmk_ed_us)" -v 9'</li>
                <li>Or see below about my <b>setxkb</b> script for changing XKB settings!</li>
            </ul>
        </div>

        <h2>EXTEND LAYERS AND THE CAPS SWITCH MODIFIER</h2>
        <p>This is my favorite mod next to Colemak itself! The ability to navigate and edit from the home position and its immediate surroundings is extremely powerful. It's like having part of the power of advanced editors like Vim ready in all situations. Plus a fully functional multimedia keyboard without sacrificing compactness. And more.</p>

        <p>For more info and tricks, see <a href="extendlayers.html">my Extend Extra Extreme page</a>.</p>

        <img src="content/images/Extend-ISO-NoWi-Linux_90d.png" alt="">
        <p class="italic">A symbolic chart of my <strong>Extend</strong> mappings (lvl1 only). Greens, navigation; blue/circled, mousing; orange, multimedia; gray, system/misc.</p>

        A more explicit chart from my XKB Extend source file:

        <div class="spoiler">
            <p><span>Spoiler:</span></p>
            <div class="spoilerBody">
                <pre><code>
These keys are modified/transposed by holding down the 'extend key' (CapsLock by default):
+------+------+------+------+------+------+------+------+------+------+------+------+------+
|Esc + |F1 &lt;> |F2 &lt;&lt; |F3 >> |F4 &lt;> |F5 &lt;> |F6 &lt;&lt; |F7 >> |F8 &lt;> |F9 &lt;> |F10&lt;> |F11&lt;> |F12&lt;> |
|      | Pause| Rew  | Fwd  | Eject| Refr | Bri- | Bri+ | Sleep| WWW  | Mail | App1 | App2 |
| Caps | Play | Prev | Next | Stop | Mute | Vol- | Vol+ | Media| Home | Srch | File | Calc |
+======+======+======+======+======+======+======+======+======+======+======+======+======+
|` €€€ |1     |2     |3     |4     |5     |6     |7     |8     |9     |0     |-     |=     |
| Cust | F1   | F2   | F3   | F4   | F5   | F6   | F7   | F8   | F9   | F10  | F11  | F12  |
+------+------+------+------+------+------+------+------+------+------+------+------+------+
|Tab   |Q €€€ |W *** |F &lt;&lt;> |P &lt;>> |G *** |J ### |L ### |U ### |Y ### |; €€€ |[ €€€ |] €€€ |
|      | Esc  | *WhUp| BrBck| BrFwd| *MUp | PgUp | Home | Up   | End  | Del  | Esc  | Ins  |
+------+------+------+------+------+------+------+------+------+------+------+------+------+
|Caps+ |A +++ |R *** |S +++ |T +++ |D *** |H ### |N ### |E ### |I ### |O €€€ |' €€€ |\ >&lt;> |
| ++++ | Alt  | *WhDn| Shift| Ctrl | *MDn | PgDn | Left | Down | Right| Back | Menu | BrFav|
+------+------+------+------+------+------+------+------+------+------+------+------+------+
|_ *** |Z €€€ |X === |C === |V === |B *** |K *** |M *** |, *** |. *** |/ €€€ |Spc € |Entr€ |
| *MOn | Undo | Cut  | Copy | Paste| *Bt1 | *Bt2 | *Bt3 | *MLe | *MRi | Multi| Enter| PrtSc|
+------+------+------+------+------+------+------+------+------+------+------+-------------+
Legend: # Movement; + Modifiers; = GUI edit; * Mouse; &lt;> MultiMedia; € Various commands.
                </code></pre>
            </div>
        </div>

        <p>The XKB implementation is almost the same as the Windows/PKL one. You get shifted multimedia keys which Win/PKL couldn't support, but not mouse WheelLeft/Right scroll keys as those are poorly implemented. Instead, there's a MouseKeys On/Off key on &lt;LSGT> and a Compose/Multi key on Slash. The Tilde key is customizeable – it could be anything you deem useful.</p>

        <div class="platform-specific">
            <p><b>MouseKeys</b>: Hitting Caps+&lt;LSGT&gt; (or Shift+NumLock if that's enabled) enables/disables Pointer Mousing; when that's on you may move the mouse pointer with the GD&lt;&gt; keys and use BKM for buttons (or you can use the KeyPad keys as before). My mapped keys go a few pixels at a time so when acceleration is on you may travel quickly around the screen this way. Wheel mousing works but doesn't repeat so you'll have to press many times to scroll a long way.

            <p><b>Multimedia keys</b>: These are mapped to the F keys (++) as intended but XKB/Linux doesn't necessarily link any actions to their key presses although these days most of the usual multimedia keys are configured as expected; this is done in the Shortcuts settings which can be accessed in Unity/Gnome via the Keyboard settings (or dconf-editor/gsettings to org.gnome.desktop.wm.keybindings for the Window Manager ones and ??? for other categories). You could also use xbindkeys, AutoKey or others to bind whatever you want to these keys. Using the Settings > Keyboard panel in Unity/Gnome (gnome-control-center keyboard) doesn't work as expected with the Extend mapped keys, since the hotkey will register as a 'Level 5 shift' keypress when you press your Extend key! The trick is to press the modifier(s) before clicking on the shortcut you want to set! Then when 'New accelerator' is showing you press down the final key. I had to do that for the Calculator and Terminal keys (Lv5+&lt;FK12&gt;) as those shortcuts were disabled by default in my Ubuntu install.</p>

            <p>Holding down AltGr you get <b>Extend2</b>, a numeric layer laid out pretty much like a standard NumPad but with the top row moved around to fit:</p>

            <img src="content/images/Extend2-ISO-NoMod_96d.png" alt="">
            <p class="italic">A symbolic chart of my <strong>Extend</strong> mappings (lvl1 only). Greens, navigation; blue/circled, mousing; orange, multimedia; gray, system/misc.</p>

            <p>Here's the XKB file version:</p>
            <div class="spoiler">
                <p><span>Spoiler:</span></p>
                <div class="spoilerBody">
                    <pre><code>
// KeyPad overlay with nav block to the left (lv7-8):
// +------+------+------+------+------+------+------+------+------+------+------+------+------+
// |` €€€ |1     |2     |3     |4 £   |5 €   |6     |7     |8  ⇑  |9     |0     |-     |=     |
// | Cust |  !   |  @   |  #   |  $   |  %   |  ^   | KP_7 | KP_8 | KP_9 | KP_* | KP_- | KP_= |
// +------+------+------+------+------+------+------+------+------+------+------+------+------+
// |Tab   |Q ### |W ### |F ### |P €€€ |G €€€ |J ### |L     |U     |Y     |;     |[ {   |] }   |
// |      | Home | Up   | End  | Del  | Esc  | PgUp | KP_4 | KP_5 | KP_6 | KP_+ |  (   |  )   |
// +------+------+------+------+------+------+------+------+------+------+------+------+------+
// |Caps+ |A ### |R ### |S ### |T €€€ |D     |H ### |N     |E  ⇓  |I     |O     |' "   |\ |   |
// | ++++ | Left | Down | Right| Back | K_Lck| PgDn | KP_1 | KP_2 | KP_3 | K_Ent|  '   |  :   |
// +------+------+------+------+------+------+------+------+------+------+------+------+------+
// |_ *** |Z €€€ |X === |C === |V === |B *** |K     |M     |,  ⇕  |.     |/     |Spc   |Entr  |
// | *MOn | Undo | Cut  | Copy | Paste| *Bt1 |  ,   | KP_0 | KP_0 | KP_. | KP_/ | Spc  | K_Ent|
// +------+------+------+------+------+------+------+------+------+------+------+------+------+
                </code></pre>
            </div>
        </div>

        <p>Having to hold down both CapsLock and AltGr while entering numbers is hardly ideal. For PKL/Windows, you only have to hold the Extend modifier after selecting which Extend layer to activate. On Linux, I might construct a level7 modifier by combining level3 with level5 but that's still Work-In-Progress.</p>

        <p>If you're cheeky and dexterous enough to press CapsLock+AltGr+Shift at the same time you're treated to a set of double-arrow symbols of the kind used in mathematical proofs and more (⇖⇑⇗ ⇐⇔⇒ ⇙⇓⇘), laid out like in one of the standard xkb keypad layouts. I thought they might be somewhat handy, but the heavy chording required suits the fact that few need them very often! The single arrows didn't fit in, but at least the four orthogonal ones (←↑↓→) are already there in the lv3-4 Colemak[eD] mappings.</p>
        
        <p>All KeyPad keys are affected by PointerEnable! So if you find the mouse pointer moving around instead of numbers being entered, hit the key to disable pointer mousing (Shift+NumLock or CapsLock+LSGT). Or, you've found an extra way of key mousing! :-)</p>
        
            <p class="italic"><b>HowTo:</b></p>
            <p>To get the Extend mappings to work in xkb, you need two things:</p>
            <ul class="disc">
                <li>Set the 'misc:extend' xkbmap option (see below for setup info), and</li>
                <li>choose a modifier key to switch to level5; I've added a 'level5:caps_switch_lock' option to use the Caps key.</li>
                <li>There are others to choose from (lsgt, lalt, lwin and rwin) that were already available in xkb; you could even have more than one if you want!</li>
                <li>(By using several lv5 switch keys, the switch_lock behavior makes it possible to lock the Extend layer by pressing two modifiers together should you require that.)</li>
                <li>If you have the 'Options...' settings menu (Gnome has it), these options are under the 'Miscellaneous' and 'Level 5' headings.</li>
            </ul>
        </div>  

        <h2>ENHANCED DEAD KEY MAPPINGS</h2>

        <p>For some reason, the Stroke dead key is still broken in my XKB. Gotta get that fixed at some point (maybe it'll be my first Linux bugfix unless someone beats me to it). Furthermore, I'd like to add more mappings that feel intuitive to me such as superscripts on the acute accent key and subscripts on the grave accent key.</p>

        <p>Some dead keys are almost empty: The doubleacute only caters for ő ű, and ring only caters for å ů ẘ ẙ. There's also a whole iota dead key that only concerns itself with Greek characters. I'm tempted to stuff something good into those cracks even if it's not an entirely logical thing to do (because the name of the dead key wouldn't reflect these extra mappings). If you use up a key mapping on a dead key it really shouldn't sit there taking up keyboard space for the meager purpose of providing 2-3 glyphs!</p>

        <p>I think it's about the locales. The big en_US.UTF-8 Compose file has the dead_stroke key defined (and lots of other goodness!) so I should find out how to get that then. Defining my own ~/.XCompose file apparently involves setting the xim input method as the active one instead of a hard-compiled GTK one my Ubuntu must be using now I guess. It's a bit complex it seems... :o I'll be back on this issue when/if I find out more!</p>


    </main>
    <script src="scripts/main.js"></script>
</body>
</html>